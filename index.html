<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Interactivo: Vacaciones y Permisos en la Guardia Civil</title>
    <style>
        :root {
            --primary-color: #006400;
            --primary-color-light: #007a00;
            --background-color-light: #f4f7f6;
            --text-color-light: #333;
            --card-bg-light: #ffffff;
            --background-color-dark: #121212;
            --text-color-dark: #e0e0e0;
            --card-bg-dark: #1e1e1e;
            --success-color: #4CAF50;
            --error-color: #f44336;
            --font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            --border-radius: 8px;
            --shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        body {
            font-family: var(--font-family);
            line-height: 1.6;
            margin: 0;
            padding: 0;
            background-color: var(--background-color-light);
            color: var(--text-color-light);
            transition: background-color 0.3s, color 0.3s;
        }

        body.dark-mode {
            --background-color-light: var(--background-color-dark);
            --text-color-light: var(--text-color-dark);
            --card-bg-light: var(--card-bg-dark);
        }

        .fixed-header-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background-color: var(--card-bg-light);
            box-shadow: var(--shadow);
        }

        .container {
            width: 90%;
            max-width: 1000px;
            margin: auto;
            padding-top: 180px; /* Adjusted for fixed header height */
        }

        header {
            background: var(--primary-color);
            color: #fff;
            padding: 1rem 0;
            text-align: center;
            position: relative;
        }

        header h1 {
            margin: 0;
            font-size: 1.8rem;
        }

        .theme-switcher {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            right: 20px;
            background: #fff;
            color: var(--primary-color);
            border: none;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            width: 45px;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .progress-container {
            width: 90%;
            max-width: 1000px;
            margin: 15px auto;
            background-color: #e0e0e0;
            border-radius: var(--border-radius);
        }

        .progress-bar {
            width: 0%;
            height: 25px;
            background-color: var(--success-color);
            text-align: center;
            line-height: 25px;
            color: white;
            border-radius: var(--border-radius);
            transition: width 0.5s ease-in-out;
        }

        .module {
            background: var(--card-bg-light);
            padding: 25px;
            margin-bottom: 25px;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: background-color 0.3s, opacity 0.3s;
        }

        .module.locked {
            opacity: 0.5;
            pointer-events: none;
        }

        .module h2 {
            color: var(--primary-color);
            border-bottom: 2px solid #eee;
            padding-bottom: 10px;
        }

        .summary {
            background-color: rgba(0, 100, 0, 0.05);
            border-left: 5px solid var(--primary-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: var(--border-radius);
        }

        .quiz-question p {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .quiz-options label {
            display: block;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 10px;
            border-radius: var(--border-radius);
            transition: background-color 0.2s;
        }

        .quiz-options label:hover {
            background-color: rgba(0, 100, 0, 0.1);
        }

        .btn {
            display: inline-block;
            background: var(--primary-color);
            color: #fff;
            padding: 12px 25px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            text-align: center;
            margin-top: 15px;
            font-size: 1rem;
            transition: background-color 0.3s;
        }

        .btn:hover {
            background: var(--primary-color-light);
        }

        .result {
            padding: 15px;
            margin-top: 15px;
            border-radius: var(--border-radius);
            font-weight: bold;
        }

        .correct {
            background-color: rgba(76, 175, 80, 0.1);
            border-left: 5px solid var(--success-color);
        }

        .incorrect {
            background-color: rgba(244, 67, 54, 0.1);
            border-left: 5px solid var(--error-color);
        }
        
        .correct-answer-text {
            color: var(--success-color);
            font-weight: bold;
            margin-left: 10px;
        }

        footer {
            text-align: center;
            padding: 20px;
            margin-top: 40px;
            color: #aaa;
        }
    </style>
</head>
<body>

    <div class="fixed-header-container">
        <header>
            <h1>Curso Vacaciones, permisos y licencias</h1>
            <button class="theme-switcher" id="themeSwitcher" title="Cambiar tema">üåô</button>
        </header>
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">0%</div>
        </div>
    </div>

    <div class="container">
        <div id="modules-container"></div>
    </div>

    <footer>
        <p>Generado por Gemini Code Assist</p>
    </footer>

    <script>
        const modules = [
            {
                title: "M√≥dulo 0: Marco Normativo",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo inicial establece el marco legal que regula los derechos y deberes de los Guardias Civiles. La norma principal es el <b>Estatuto B√°sico del Empleado P√∫blico (EBEP)</b>, que aplica a todos los funcionarios. De forma m√°s espec√≠fica, la <b>Ley Org√°nica 11/2007</b> regula los derechos y deberes de los miembros de la Guardia Civil, y la <b>Ley 29/2014</b> de R√©gimen del Personal establece las particularidades de su carrera. La Orden General que estudiaremos en detalle es el desarrollo pr√°ctico de estas leyes para el d√≠a a d√≠a.",
                quiz: [
                    { question: "¬øCu√°l es la norma principal que regula los derechos de todos los empleados p√∫blicos en Espa√±a?", options: ["La Orden General de Vacaciones", "El Estatuto B√°sico del Empleado P√∫blico (EBEP)", "La Ley de R√©gimen del Personal de la Guardia Civil", "El C√≥digo Penal Militar"], answer: 1 },
                    { question: "La Ley Org√°nica 11/2007, ¬øqu√© aspecto regula principalmente?", options: ["El r√©gimen de ascensos", "Los derechos y deberes fundamentales de los Guardias Civiles", "Las retribuciones", "La estructura de las unidades"], answer: 1 },
                    { question: "¬øQu√© norma desarrolla de forma espec√≠fica el r√©gimen de vacaciones y permisos?", options: ["El EBEP", "La Ley de R√©gimen del Personal", "Una Orden General espec√≠fica", "La Constituci√≥n Espa√±ola"], answer: 2 },
                    { question: "El derecho a la conciliaci√≥n de la vida personal, familiar y laboral est√° reconocido en...", options: ["Solo en la Orden General", "Solo en el EBEP", "Tanto en el EBEP como en la normativa espec√≠fica de la Guardia Civil", "√önicamente en leyes europeas"], answer: 2 },
                    { question: "Seg√∫n el EBEP, los permisos por motivos de conciliaci√≥n son un derecho de...", options: ["Solo los funcionarios de carrera", "Solo el personal laboral", "Todos los empleados p√∫blicos", "Solo los Guardias Civiles"], answer: 2 },
                    { question: "La Ley 29/2014 de R√©gimen del Personal, ¬øafecta a las vacaciones?", options: ["No, solo trata de ascensos", "S√≠, establece el marco general de la carrera profesional, que incluye estos derechos", "Solo para los oficiales", "√önicamente regula las situaciones de excedencia"], answer: 1 },
                    { question: "¬øPor qu√© es importante el EBEP para un Guardia Civil?", options: ["No es importante, no aplica", "Porque establece las bases comunes a todos los funcionarios, incluyendo permisos y vacaciones", "Porque regula el uso del uniforme", "Porque define las misiones internacionales"], answer: 1 },
                    { question: "La relaci√≥n entre la Ley 29/2014 y la Orden General de vacaciones es de...", options: ["No tienen relaci√≥n", "La Orden General desarrolla lo previsto en la Ley", "La Ley anula la Orden General", "Son normativas contradictorias"], answer: 1 },
                    { question: "El derecho a la jornada de trabajo, permisos y vacaciones se recoge de forma general en el...", options: ["Cap√≠tulo V del EBEP", "Anexo I de la Orden General", "T√≠tulo X de la Ley de R√©gimen de Personal", "No se recoge de forma general"], answer: 0 },
                    { question: "¬øLa normativa de la Guardia Civil puede contradecir al EBEP en materia de permisos?", options: ["S√≠, siempre", "No, debe adaptarse a las bases del EBEP, aunque con las particularidades necesarias", "Solo si lo autoriza un General", "S√≠, porque es un cuerpo militar"], answer: 1 }
                ]
            },
            {
                title: "M√≥dulo 1: Disposiciones Generales y Definiciones",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo introduce el objeto (Art. 1), √°mbito de aplicaci√≥n (Art. 2) y las definiciones clave (Art. 3) de la Orden General. Es la base para entender conceptos como 'vacaciones', 'permiso' y 'licencia' que se usar√°n en toda la regulaci√≥n.",
                quiz: [
                    { question: "¬øCu√°l es el objeto principal de esta Orden General?", options: ["Regular las sanciones disciplinarias.", "Determinar el r√©gimen de vacaciones, permisos y licencias.", "Establecer el plan de estudios de la academia.", "Definir los uniformes reglamentarios."], answer: 1 },
                    { question: "Seg√∫n el Art√≠culo 3, ¬øqu√© se entiende por 'licencia'?", options: ["Un permiso retribuido para asuntos personales.", "Un per√≠odo de descanso anual obligatorio.", "Un per√≠odo para ausentarse del destino para atender asuntos personales o mejorar la preparaci√≥n profesional.", "La autorizaci√≥n para cambiar de destino."], answer: 2 },
                    { question: "¬øA qui√©n es de aplicaci√≥n esta orden general?", options: ["Solo a los oficiales de la Guardia Civil.", "A todo el personal de las Fuerzas Armadas.", "A los guardias civiles en situaciones espec√≠ficas y a los alumnos de centros docentes.", "√önicamente al personal administrativo."], answer: 2 },
                    { question: "¬øQu√© es el 'per√≠odo anual' a efectos de esta orden?", options: ["Del 1 de enero al 31 de diciembre.", "Del 1 de septiembre al 31 de agosto.", "Del primer d√≠a del periodo mensual de febrero de un a√±o al √∫ltimo d√≠a del periodo mensual de enero del a√±o siguiente.", "Coincide con el a√±o fiscal."], answer: 2 },
                    { question: "¬øEl 'tiempo de servicio efectivo' incluye las ausencias por enfermedad?", options: ["No, nunca se computan.", "S√≠, a estos solos efectos, se computar√°n como tiempo de servicio efectivo.", "Solo si la enfermedad es grave.", "Depende de la duraci√≥n de la ausencia."], answer: 1 },
                    { question: "¬øUn guardia civil en comisi√≥n de servicio en el extranjero con r√©gimen propio se rige por esta orden?", options: ["S√≠, siempre.", "No, se regir√° por su r√©gimen espec√≠fico sin perjuicio de algunas excepciones.", "Solo para las licencias.", "Solo para los permisos."], answer: 1 },
                    { question: "¬øQu√© se entiende por 'per√≠odo vacacional'?", options: ["Solo los d√≠as h√°biles de vacaciones.", "Los d√≠as de cr√©dito y los fines de semana y festivos incluidos de forma continuada.", "30 d√≠as naturales siempre.", "Los d√≠as que elija el Guardia Civil sin ninguna otra consideraci√≥n."], answer: 1 },
                    { question: "¬øLa orden general tiene car√°cter supletorio para alg√∫n colectivo?", options: ["No, es de aplicaci√≥n directa para todos.", "S√≠, para los guardias civiles no incluidos en el √°mbito de aplicaci√≥n general.", "S√≠, para el personal de las Fuerzas Armadas.", "No, no tiene car√°cter supletorio."], answer: 1 },
                    { question: "¬øSe aplica esta orden a los alumnos de los centros docentes de formaci√≥n?", options: ["No, tienen su propia ley.", "S√≠, a efectos de vacaciones, permisos y licencias, seg√∫n el r√©gimen de alumnado.", "Solo durante el per√≠odo de pr√°cticas.", "No, en ning√∫n caso."], answer: 1 },
                    { question: "¬øQu√© es un 'permiso' seg√∫n el art√≠culo 3?", options: ["Un derecho a faltar sin justificaci√≥n.", "Un per√≠odo de tiempo de ausencia o exenci√≥n del servicio autorizado.", "Un sin√≥nimo de vacaciones.", "Una licencia no retribuida."], answer: 1 }
                ]
            },
            {
                title: "M√≥dulo 2: Vacaciones",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo detalla el derecho a vacaciones. Cubre el cr√©dito de d√≠as anuales (Art. 4), c√≥mo se configuran y computan los periodos (Art. 5), la solicitud (Art. 6) y las prioridades en la concesi√≥n (Art. 11), incluyendo los turnos de verano (Art. 9). El EBEP en su Art. 50 establece el derecho a 22 d√≠as h√°biles anuales como m√≠nimo.",
                quiz: [
                    { question: "¬øCu√°ntos d√≠as h√°biles de vacaciones corresponden por cada per√≠odo anual completo?", options: ["20", "22", "25", "30"], answer: 1 },
                    { question: "¬øCon cu√°ntos a√±os de servicio se obtiene el primer d√≠a adicional de vacaciones?", options: ["10 a√±os", "15 a√±os", "20 a√±os", "25 a√±os"], answer: 1 },
                    { question: "¬øCu√°l es el per√≠odo m√≠nimo de disfrute de vacaciones, como regla general?", options: ["Un d√≠a", "Dos d√≠as h√°biles", "Cinco d√≠as h√°biles consecutivos", "Siete d√≠as naturales"], answer: 2 },
                    { question: "¬øSe puede disfrutar un d√≠a de vacaciones de forma independiente?", options: ["No, nunca.", "S√≠, si obedece a la recuperaci√≥n de d√≠as no disfrutados o por circunstancias especiales.", "Solo si lo autoriza el Director General.", "√önicamente en Navidad."], answer: 1 },
                    { question: "Si un per√≠odo vacacional finaliza en viernes, ¬øqu√© d√≠as se consideran inh√°biles a efectos de c√≥mputo?", options: ["Ninguno, solo el viernes.", "El s√°bado y domingo inmediatamente posteriores.", "Solo el s√°bado.", "El viernes y el s√°bado."], answer: 1 },
                    { question: "¬øQu√© ocurre si durante las vacaciones se sufre una incapacidad temporal?", options: ["Se pierden los d√≠as de vacaciones.", "El per√≠odo vacacional se interrumpe y el resto se disfruta despu√©s.", "Se prorrogan las vacaciones autom√°ticamente.", "No ocurre nada, la incapacidad no afecta."], answer: 1 },
                    { question: "¬øCu√°l es la fecha l√≠mite para disfrutar los d√≠as de vacaciones acumulados del a√±o anterior por necesidades del servicio?", options: ["El 31 de enero.", "El 14 de junio del a√±o siguiente.", "No hay fecha l√≠mite.", "El 31 de marzo."], answer: 1 },
                    { question: "En el orden de prioridad para elegir turno de verano, ¬øqui√©n tiene preferencia?", options: ["El de mayor antig√ºedad.", "El que tenga m√°s d√≠as de cr√©dito.", "El personal que no haya disfrutado vacaciones en el verano anterior.", "Se decide por sorteo."], answer: 2 },
                    { question: "¬øEl inicio o fin de una solicitud de vacaciones puede ser en s√°bado o domingo?", options: ["S√≠, sin problema.", "Solo si es un turno de verano.", "No, como regla general, salvo excepciones de turnos.", "Solo con permiso especial."], answer: 2 },
                    { question: "Seg√∫n el EBEP, ¬ølas vacaciones anuales pueden ser compensadas econ√≥micamente?", options: ["S√≠, siempre.", "Solo en caso de jubilaci√≥n.", "No, como regla general, salvo en caso de conclusi√≥n de la relaci√≥n de servicios por causas ajenas al interesado.", "S√≠, si el interesado lo prefiere."], answer: 2 }
                ]
            },
            {
                title: "M√≥dulo 3: Permisos",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo es extenso y cubre todos los tipos de permisos: por asuntos particulares (Art. 12), por causas justificadas como fallecimiento o matrimonio (Art. 17, 28), y por motivos de conciliaci√≥n (parto Art. 29, paternidad Art. 31, lactancia Art. 23). Estos permisos son el desarrollo de los derechos b√°sicos del EBEP (Art. 48 y 49).",
                quiz: [
                    { question: "¬øCu√°ntos d√≠as de permiso por asuntos particulares se conceden por per√≠odo anual?", options: ["3 d√≠as", "Hasta 6 d√≠as", "10 d√≠as", "No existen"], answer: 1 },
                    { question: "¬øCu√°ntos d√≠as corresponden por matrimonio?", options: ["10 d√≠as h√°biles", "15 d√≠as h√°biles", "15 d√≠as naturales", "20 d√≠as naturales"], answer: 2 },
                    { question: "El permiso por parto tiene una duraci√≥n de...", options: ["10 semanas", "12 semanas", "16 semanas ininterrumpidas", "20 semanas"], answer: 2 },
                    { question: "¬øEl permiso por lactancia puede ser ejercido por ambos progenitores a la vez?", options: ["No, es exclusivo de la madre.", "S√≠, puede disfrutarse de forma simult√°nea o compartida si ambos trabajan.", "Solo si son familia numerosa.", "Solo el padre puede cogerlo."], answer: 1 },
                    { question: "Por traslado de domicilio sin cambio de residencia, ¬øcu√°ntos d√≠as de permiso se conceden?", options: ["Ninguno", "Un d√≠a", "Dos d√≠as", "Tres d√≠as"], answer: 1 },
                    { question: "¬øSe puede acumular el permiso de asuntos particulares a las vacaciones?", options: ["S√≠, siempre.", "No, nunca.", "Solo a los periodos no sujetos al m√≠nimo de cinco d√≠as h√°biles.", "Solo si sobran del a√±o anterior."], answer: 2 },
                    { question: "El permiso por paternidad, ¬øcu√°ntos d√≠as dura seg√∫n la norma de 2016?", options: ["15 d√≠as", "20 d√≠as", "28 d√≠as naturales", "4 semanas"], answer: 2 },
                    { question: "Para concurrir a un examen final oficial, ¬øel permiso cubre los desplazamientos?", options: ["No, solo el d√≠a del examen.", "S√≠, el tiempo necesario para ida y regreso.", "Solo si es fuera de la pen√≠nsula.", "Depende de la nota del examen."], answer: 1 },
                    { question: "¬øCu√°ntos d√≠as corresponden por enfermedad grave de un familiar de segundo grado en distinta localidad?", options: ["Dos d√≠as h√°biles", "Tres d√≠as h√°biles", "Cuatro d√≠as h√°biles", "Cinco d√≠as h√°biles"], answer: 2 },
                    { question: "El EBEP reconoce un permiso por violencia de g√©nero sobre la mujer funcionaria para...", options: ["Pedir un mes de vacaciones.", "Reducir la jornada con reducci√≥n de sueldo.", "Hacer efectiva su protecci√≥n o su derecho a la asistencia social integral.", "Cambiar de destino sin condiciones."], answer: 2 }
                ]
            },
            {
                title: "M√≥dulo 4: Licencias",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo explica las licencias por asuntos propios (Art. 36) y por estudios (Art. 37). Se detallan su duraci√≥n, condiciones, si son retribuidas o no, y el procedimiento para solicitarlas. La Ley 11/2007 (Art. 29) reconoce el derecho general a disfrutar de las licencias previstas en la legislaci√≥n de funcionarios.",
                quiz: [
                    { question: "¬øCu√°l es la duraci√≥n m√°xima de la licencia por asuntos propios en un per√≠odo de dos a√±os?", options: ["30 d√≠as", "60 d√≠as", "90 d√≠as naturales", "120 d√≠as"], answer: 2 },
                    { question: "La licencia por asuntos propios, ¬øes retribuida?", options: ["S√≠, siempre.", "No, se concede sin retribuci√≥n alguna.", "Solo se perciben las retribuciones b√°sicas.", "Depende de la duraci√≥n."], answer: 1 },
                    { question: "La licencia por estudios se concede para...", options: ["Cualquier tipo de estudio.", "Solo estudios universitarios.", "Realizar aquellos relacionados con las funciones y actividades del puesto.", "Estudios de idiomas √∫nicamente."], answer: 2 },
                    { question: "¬øCu√°l es la duraci√≥n m√≠nima de una licencia por asuntos propios?", options: ["Un d√≠a", "Tres d√≠as", "Siete d√≠as naturales consecutivos", "Quince d√≠as"], answer: 2 },
                    { question: "La licencia por estudios de hasta siete d√≠as naturales, ¬øqu√© retribuci√≥n conlleva?", options: ["Ninguna", "Solo las retribuciones b√°sicas.", "La retribuci√≥n completa.", "La mitad de la retribuci√≥n."], answer: 1 },
                    { question: "¬øSe puede disfrutar m√°s de una licencia por estudios en el mismo a√±o natural?", options: ["S√≠, hasta dos.", "No, solo se podr√° disfrutar una, en una u otra modalidad.", "S√≠, sin l√≠mite.", "Solo si son estudios diferentes."], answer: 1 },
                    { question: "¬øLa concesi√≥n de la licencia por asuntos propios es autom√°tica?", options: ["S√≠, siempre se concede.", "No, est√° supeditada a las necesidades del servicio.", "Solo si es por menos de 10 d√≠as.", "Depende del empleo del solicitante."], answer: 1 },
                    { question: "La licencia por estudios de m√°s de siete d√≠as, ¬øes retribuida?", options: ["S√≠, al 100%.", "S√≠, al 50%.", "No, es sin retribuci√≥n alguna.", "Solo las retribuciones b√°sicas."], answer: 2 },
                    { question: "¬øDesde cu√°ndo se cuenta el per√≠odo de dos a√±os para la licencia por asuntos propios?", options: ["Desde el 1 de enero del primer a√±o.", "Desde la fecha de inicio de la primera licencia disfrutada.", "Desde que se ingresa en el Cuerpo.", "Es por a√±o natural."], answer: 1 },
                    { question: "¬øLa Ley de Derechos y Deberes (11/2007) menciona expl√≠citamente las licencias?", options: ["No, solo los permisos.", "S√≠, en su art√≠culo 29, remitiendo a la legislaci√≥n general de funcionarios.", "Solo la licencia por estudios.", "Solo la licencia por asuntos propios."], answer: 1 }
                ]
            },
            {
                title: "M√≥dulo 5: Autoridades y Competencias",
                summary: "<b>Resumen de la Normativa:</b> Aqu√≠ se define qu√© autoridades son competentes para conceder las vacaciones y permisos (Art. 38) y las licencias (Art. 39). Se establece una jerarqu√≠a clara para la gesti√≥n y autorizaci√≥n de las solicitudes y se mencionan los recursos aplicables (Art. 40). La Ley 29/2014 detalla las competencias del Director General y de los Ministros.",
                quiz: [
                    { question: "¬øQui√©n tiene la competencia para la concesi√≥n de las licencias?", options: ["El Jefe de Comandancia.", "El Director Adjunto Operativo.", "El Subdirector General de Personal.", "Cualquier oficial."], answer: 2 },
                    { question: "Un Jefe de Unidad, ¬øpuede conceder un permiso por traslado de domicilio?", options: ["No, nunca.", "S√≠, est√° entre los permisos que puede conceder.", "Solo si lo delega el Jefe de Zona.", "Necesita autorizaci√≥n expresa."], answer: 1 },
                    { question: "¬øQu√© se puede hacer contra las resoluciones sobre vacaciones y permisos?", options: ["Nada, son definitivas.", "Presentar una queja informal.", "Interponer los recursos pertinentes seg√∫n la legislaci√≥n.", "Solicitar un arbitraje."], answer: 2 },
                    { question: "Seg√∫n la Ley 29/2014, ¬øqui√©n aprueba las convocatorias de procesos selectivos?", options: ["El Jefe de la Unidad.", "El Director General de la Guardia Civil.", "El Ministro de Defensa.", "El Consejo de Ministros."], answer: 1 },
                    { question: "La concesi√≥n del cr√©dito derivado de una interrupci√≥n de vacaciones es competencia de...", options: ["El jefe de la unidad del afectado.", "Los mandos de nivel Comandancia o superior.", "Siempre el Director General.", "El servicio de psicolog√≠a."], answer: 1 },
                    { question: "¬øUn jefe de unidad puede conceder un permiso por matrimonio?", options: ["S√≠, siempre.", "No, ese permiso no est√° en la lista del art√≠culo 38.1.e).", "Solo si la boda es en la misma localidad.", "S√≠, pero necesita visado."], answer: 1 },
                    { question: "¬øA qui√©n corresponde dictar las normas de tramitaci√≥n y control de las licencias?", options: ["Al Director General.", "Al Subdirector General de Personal.", "Al Jefe del Mando de Operaciones.", "A cada Jefe de Comandancia."], answer: 1 },
                    { question: "El permiso por asuntos particulares de un Guardia Civil, ¬øqui√©n lo autoriza?", options: ["El Ministro del Interior.", "El Jefe de su unidad.", "El Rey.", "El Presidente del Gobierno."], answer: 1 },
                    { question: "Seg√∫n la Ley 29/2014, la pol√≠tica de personal relativa a destinos es competencia del...", options: ["Ministro de Defensa.", "Ministro del Interior.", "Director General de la Guardia Civil.", "Secretario de Estado de Seguridad."], answer: 1 },
                    { question: "¬øUn Jefe de Zona puede conceder permisos a personal de unidades que no le dependen directamente?", options: ["S√≠, a todo el personal de su Zona.", "No, solo al personal destinado en la Unidad y a los jefes de las unidades directamente dependientes.", "S√≠, sin restricciones.", "Solo en casos de urgencia."], answer: 1 }
                ]
            },
            {
                title: "M√≥dulo 6: Disposiciones Adicionales y Especiales",
                summary: "<b>Resumen de la Normativa:</b> Este m√≥dulo aborda los reg√≠menes espec√≠ficos para personal en misiones militares, destinados en el Pa√≠s Vasco, Navarra y Canarias, y en centros docentes. Adapta la norma general a sus circunstancias particulares, como los d√≠as adicionales de vacaciones o permisos.",
                quiz: [
                    { question: "El personal en misiones militares, ¬øse rige por esta Orden General?", options: ["S√≠, exclusivamente.", "No, se rige por la normativa aplicable al resto del contingente.", "Depende del pa√≠s.", "Solo para permisos."], answer: 1 },
                    { question: "El personal en Pa√≠s Vasco y Navarra tiene un cr√©dito adicional de vacaciones de...", options: ["5 d√≠as", "7 d√≠as", "11 d√≠as h√°biles", "No tienen cr√©dito adicional"], answer: 2 },
                    { question: "En Canarias, ¬øse pueden acumular los d√≠as de asuntos particulares a las vacaciones?", options: ["No, est√° prohibido.", "S√≠, cuando se solicite el cr√©dito total de vacaciones.", "Solo la mitad de los d√≠as.", "Si sobran del a√±o anterior."], answer: 1 },
                    { question: "El personal en centros docentes, ¬øc√≥mo disfruta sus vacaciones?", options: ["Igual que el resto.", "Est√°n condicionados al calendario acad√©mico, en per√≠odos no lectivos.", "No tienen vacaciones.", "Tienen el doble de d√≠as."], answer: 1 },
                    { question: "El personal en Pa√≠s Vasco y Navarra tiene d√≠as adicionales de permiso por asuntos particulares. ¬øCu√°ntos?", options: ["Uno", "Dos", "Tres", "Cinco"], answer: 2 },
                    { question: "Para el personal a turnos, ¬øel disfrute de vacaciones puede alterar su jornada de trabajo?", options: ["S√≠, la reduce considerablemente.", "No, se busca asegurar el efecto neutro sobre la jornada.", "S√≠, la aumenta para compensar.", "No se regula."], answer: 1 },
                    { question: "¬øQui√©n establece los turnos de permisos en Navidad y Semana Santa para el personal en Canarias?", options: ["El Director General.", "El Jefe de la Zona de Canarias.", "El Jefe de la Comandancia de Las Palmas.", "Se sortea."], answer: 1 },
                    { question: "¬øLos d√≠as de vacaciones y 'moscosos' de 2015 no disfrutados antes de febrero de 2016 se pierden?", options: ["S√≠, se pierden.", "No, se a√±aden a los nuevos y se pueden disfrutar hasta el 14 de junio.", "Se compensan econ√≥micamente.", "Pasan al a√±o siguiente sin l√≠mite."], answer: 1 },
                    { question: "La Ley 29/2014 establece que la situaci√≥n de reserva se alcanzar√°, para cabos y guardias, a los...", options: ["55 a√±os", "58 a√±os", "60 a√±os", "65 a√±os"], answer: 1 },
                    { question: "La situaci√≥n de excedencia por cuidado de familiares, seg√∫n el EBEP, ¬øcomputa a efectos de trienios?", options: ["No, nunca.", "S√≠, todo el tiempo.", "Solo los dos primeros a√±os.", "Solo el primer a√±o."], answer: 1 }
                ]
            },
            {
                title: "M√≥dulo 7: Anexos y Procedimientos",
                summary: "<b>Resumen de la Normativa:</b> Los anexos detallan los procedimientos pr√°cticos. El Anexo I establece las reglas para el disfrute simult√°neo de vacaciones en una unidad. El Anexo II detalla la tramitaci√≥n y gesti√≥n de solicitudes a trav√©s del aplicativo inform√°tico, un procedimiento clave para la gesti√≥n diaria de los permisos.",
                quiz: [
                    { question: "¬øC√≥mo se presentan las solicitudes de vacaciones y permisos?", options: ["Verbalmente.", "Mediante el modelo de solicitud en la Intranet corporativa.", "Por correo certificado.", "A trav√©s de un representante."], answer: 1 },
                    { question: "Para el disfrute simult√°neo de vacaciones, ¬øcu√°l es la regla general para el personal?", options: ["No hay l√≠mite.", "Solo uno.", "El n√∫mero entero que resulte de dividir entre tres los efectivos.", "La mitad del personal."], answer: 2 },
                    { question: "Las solicitudes de vacaciones para verano deben grabarse antes de...", options: ["El 1 de enero.", "El √∫ltimo d√≠a del per√≠odo mensual de abril.", "15 d√≠as antes.", "No hay fecha l√≠mite."], answer: 1 },
                    { question: "En la f√≥rmula de proporcionalidad, ¬øqu√© significa 'DCA'?", options: ["D√≠as con autorizaci√≥n.", "Descanso compensatorio anual.", "Total de d√≠as de cr√©dito anual.", "D√≠as de cr√©dito acumulado."], answer: 2 },
                    { question: "¬øQui√©n resuelve las solicitudes de vacaciones de verano?", options: ["El Jefe de la Unidad.", "El Jefe de Compa√±√≠a.", "El competente para decidir (Jefe de Comandancia o similar).", "Recursos Humanos en Madrid."], answer: 2 },
                    { question: "Si una solicitud de vacaciones ya est√° autorizada y debe anularse, ¬øqui√©n la cancela en el sistema?", options: ["El propio interesado.", "El jefe de la unidad de destino.", "La unidad que concede las vacaciones o el permiso.", "Se anula autom√°ticamente."], answer: 2 },
                    { question: "En caso de cambio de destino, ¬øqui√©n informa a la nueva unidad de los permisos ya disfrutados?", options: ["El propio interesado.", "La nueva unidad lo consulta.", "La unidad que concede las vacaciones.", "No es necesario informar."], answer: 2 },
                    { question: "¬øLa solicitud de licencia por estudios debe justificar que se est√° matriculado?", options: ["No es necesario.", "Solo si lo pide el General.", "S√≠, se debe aportar la justificaci√≥n documental.", "Solo para estudios en el extranjero."], answer: 2 },
                    { question: "Las solicitudes de permisos por asuntos particulares se graban en...", options: ["Un libro de registro.", "La aplicaci√≥n inform√°tica de gesti√≥n.", "Un excel local.", "No se graban, solo se comunican."], answer: 1 },
                    { question: "¬øEl Anexo I sirve de referencia para el disfrute simult√°neo de permisos por asuntos particulares?", options: ["No, solo para vacaciones.", "S√≠, sirve de referencia para ambos.", "Solo para los turnos de verano.", "Solo para oficiales."], answer: 1 }
                ]
            }
        ];

        const modulesContainer = document.getElementById('modules-container');
        const progressBar = document.getElementById('progressBar');
        const themeSwitcher = document.getElementById('themeSwitcher');
        let completedModules = 0;
        const totalModules = modules.length;

        themeSwitcher.addEventListener('click', () => {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                themeSwitcher.textContent = '‚òÄÔ∏è';
                themeSwitcher.title = 'Cambiar a modo claro';
            } else {
                themeSwitcher.textContent = 'üåô';
                themeSwitcher.title = 'Cambiar a modo oscuro';
            }
        });

        function renderModules() {
            modules.forEach((module, index) => {
                const moduleEl = document.createElement('div');
                moduleEl.classList.add('module');
                moduleEl.id = `module-${index}`;
                if (index > 0) {
                    moduleEl.classList.add('locked');
                }

                moduleEl.innerHTML = `
                    <h2>${module.title}</h2>
                    <div class="summary">${module.summary}</div>
                    <div class="quiz" id="quiz-${index}">
                        <h3>Test de Autoevaluaci√≥n</h3>
                    </div>
                    <button class="btn" onclick="submitQuiz(${index})">Enviar Respuestas</button>
                    <div class="result" id="result-${index}"></div>
                `;
                modulesContainer.appendChild(moduleEl);
                renderQuiz(module.quiz, index);
            });
        }

        function renderQuiz(quizData, moduleIndex) {
            const quizContainer = document.getElementById(`quiz-${moduleIndex}`);
            quizData.forEach((q, qIndex) => {
                const questionEl = document.createElement('div');
                questionEl.classList.add('quiz-question');
                questionEl.id = `q-cont-${moduleIndex}-${qIndex}`;
                let optionsHTML = '';
                q.options.forEach((option, oIndex) => {
                    optionsHTML += `
                        <label>
                            <input type="radio" name="q-${moduleIndex}-${qIndex}" value="${oIndex}">
                            ${option}
                        </label>
                    `;
                });
                questionEl.innerHTML = `
                    <p>${qIndex + 1}. ${q.question}</p>
                    <div class="quiz-options">${optionsHTML}</div>
                `;
                quizContainer.appendChild(questionEl);
            });
        }

        function submitQuiz(moduleIndex) {
            const module = modules[moduleIndex];
            const resultContainer = document.getElementById(`result-${moduleIndex}`);
            const currentModuleEl = document.getElementById(`module-${moduleIndex}`);
            let score = 0;
            
            // Clear previous incorrect markers
            const prevIncorrect = currentModuleEl.querySelectorAll('.incorrect-question, .correct-answer-text');
            prevIncorrect.forEach(el => el.remove());

            module.quiz.forEach((q, qIndex) => {
                const selectedRadio = document.querySelector(`input[name="q-${moduleIndex}-${qIndex}"]:checked`);
                if (selectedRadio && parseInt(selectedRadio.value) === q.answer) {
                    score++;
                }
            });

            const percentage = (score / module.quiz.length) * 100;
            resultContainer.innerHTML = `Has acertado ${score} de ${module.quiz.length} preguntas (${percentage.toFixed(2)}%).`;

            if (percentage >= 60) {
                resultContainer.className = 'result correct';
                if (!currentModuleEl.classList.contains('completed')) {
                    completedModules++;
                    currentModuleEl.classList.add('completed');
                }
                if (moduleIndex + 1 < totalModules) {
                    const nextModuleEl = document.getElementById(`module-${moduleIndex + 1}`);
                    if (nextModuleEl) {
                        nextModuleEl.classList.remove('locked');
                    }
                }

                // Show correct answers for incorrect questions
                module.quiz.forEach((q, qIndex) => {
                    const selectedRadio = document.querySelector(`input[name="q-${moduleIndex}-${qIndex}"]:checked`);
                    const isCorrect = selectedRadio && parseInt(selectedRadio.value) === q.answer;
                    if (!isCorrect) {
                        const questionContainer = document.getElementById(`q-cont-${moduleIndex}-${qIndex}`);
                        const correctAnswerText = document.createElement('span');
                        correctAnswerText.className = 'correct-answer-text';
                        correctAnswerText.textContent = `La respuesta correcta era: ${q.options[q.answer]}`;
                        questionContainer.appendChild(correctAnswerText);
                    }
                });

            } else {
                resultContainer.className = 'result incorrect';
                resultContainer.innerHTML += '<br>Debes obtener al menos un 60% para desbloquear el siguiente m√≥dulo.';
            }
            updateProgressBar();
        }

        function updateProgressBar() {
            const progress = (completedModules / totalModules) * 100;
            progressBar.style.width = progress + '%';
            progressBar.textContent = progress.toFixed(0) + '%';
        }

        window.onload = renderModules;
    </script>

</body>
</html>
